<div ng-controller="TaskCtrl" ng-init="init()">
    <div class="container">
        <a href="javascript:void(0)" ng-click="toggleAddTaskPanelVisibible()">添加任务</a>
        <div class="well well-sm" style="display: {{addTaskPanelDisplay}};">
            <form class="form-horizontal" role="form">
            <div class="form-group">
                <div class="col-sm-7">
                    <input type="text" class="form-control" placeholder="任务内容" ng-model="task.content"
                        required autofocus>
                </div>
                <div class="col-sm-2">
                    <select class="form-control" ng-model="task.staff">
                        <option ng-repeat="item in participants">{{item.Staff}}</option>
                    </select>
                </div>
                <div class="col-sm-3">
                    <input type="date" class="form-control" ng-model="task.appointedDay" placeholder="截止时间">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4">
                    <button class="btn btn-default btn-sm" ng-click="save()">
                        创建任务</button>&nbsp;&nbsp;
                    <a href="javascript:void(0)" ng-click="cancel()">取消</a>
                </div>
            </div>
            </form>
        </div>
        <ol class="list-unstyled">
            <li ng-repeat="item in taskList">
                {{item.Content}}
                <span class="badge">{{item.Staff}} - {{item.AppointedDay | jsonDateFormat | date:'yyyy-MM-dd'}}</span>
            </li>
        </ol>
    </div>
</div>
